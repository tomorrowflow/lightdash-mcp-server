# =============================================================================
# Lightdash MCP Server Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Server identification name (fallback: 'lightdash-mcp-server')
MCP_SERVER_NAME=lightdash-mcp-server

# Server version override (fallback: package.json version)
MCP_SERVER_VERSION=0.0.12

# Default HTTP port for server (fallback for --port argument)
HTTP_PORT=8088

# Logging verbosity level (error, warn, info, debug)
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Lightdash API Configuration (REQUIRED)
# -----------------------------------------------------------------------------

# Lightdash API authentication key (required for API access)
LIGHTDASH_API_KEY=your_api_key_here

# Lightdash API base URL (fallback: 'https://app.lightdash.cloud')
LIGHTDASH_API_URL=https://app.lightdash.cloud

# API request timeout in milliseconds (default: 30000)
LIGHTDASH_API_TIMEOUT=30000

# -----------------------------------------------------------------------------
# Security Configuration (NEW in v1.20.2)
# -----------------------------------------------------------------------------

# CORS Configuration (HTTP Transport Only)
# CORS allowed origins - use specific domains in production
# Examples:
#   Single domain: https://your-app.com
#   Multiple domains: https://app1.com,https://app2.com
#   Development only: * (NOT recommended for production)
CORS_ORIGIN=*

# Host Validation (DNS Rebinding Protection)
# Comma-separated list of allowed hosts
# Production example: your-domain.com,api.your-domain.com
# Development example: localhost,127.0.0.1
ALLOWED_HOSTS=localhost,127.0.0.1

# -----------------------------------------------------------------------------
# Connection and Retry Configuration (NEW in v1.20.2)
# -----------------------------------------------------------------------------

# Connection timeout in milliseconds (default: 30000)
CONNECTION_TIMEOUT=30000

# Maximum number of retry attempts for failed requests (default: 3)
MAX_RETRIES=3

# Initial delay between retries in milliseconds (default: 1000)
# Uses exponential backoff (delay doubles after each retry)
RETRY_DELAY=1000

# -----------------------------------------------------------------------------
# Example Client Configuration
# -----------------------------------------------------------------------------
# These variables are used by the example scripts in the examples/ directory

# Lightdash project UUID for examples
LIGHTDASH_PROJECT_UUID=your_project_uuid_here

# Test table name for metadata/analytics examples
TEST_TABLE=your_test_table_name

# Test project UUID for validation tests
TEST_PROJECT_UUID=your_test_project_uuid

# -----------------------------------------------------------------------------
# Optional Production Configuration
# -----------------------------------------------------------------------------

# Enable/disable request logging (true/false)
ENABLE_REQUEST_LOGGING=false

# Maximum number of concurrent API requests
MAX_CONCURRENT_REQUESTS=10

# Cache TTL in seconds for API responses
CACHE_TTL=300

# -----------------------------------------------------------------------------
# Production Environment Variables
# -----------------------------------------------------------------------------
# Uncomment and configure these for production deployments

# Node.js environment
# NODE_ENV=production

# Process management
# PM2_INSTANCES=max
# PM2_MAX_MEMORY_RESTART=1000M

# Monitoring and alerting
# HEALTH_CHECK_INTERVAL=30000
# ERROR_ALERT_THRESHOLD=10
# PERFORMANCE_ALERT_THRESHOLD=5000

# -----------------------------------------------------------------------------
# Development and Testing
# -----------------------------------------------------------------------------
# These are used for development and testing only

# Enable debug mode
# DEBUG=lightdash-mcp:*

# Test configuration
# TEST_TIMEOUT=30000
# TEST_RETRIES=3